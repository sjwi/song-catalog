<th:block th:fragment="keySet(keySelected,className)" th:with="overridden=${overridden?: false},ogKey=${ogKey?: null}">
	<select class="btn btn-sm dropdown-toggle required key-select text-al-center" title="Select a key"
		th:name="${className}"
		th:classappend="${overridden}? (${capo != 0}? (${capo > 9}? 'btn-warning pr-0px': 'btn-warning pr-1px'): 'btn-warning'): 'btn-secondary'">
		<th:block th:if="${keySelected == 'N'}">
			<option value="" selected></option>
		</th:block>
		<th:block th:with="suffix=${capo != null && capo != 0}? '*' + ${capo}: ''">
			<option value="A" th:selected="${keySelected == 'A'}"
				th:text="${overridden && keySelected == 'A'? 'A' + suffix: (overridden && 'A' == ogKey)? 'A*': 'A'}">A</option>
			<option value="B" th:selected="${keySelected == 'B'}"
				th:text="${overridden && keySelected == 'B'? 'B' + suffix: (overridden && 'B' == ogKey)? 'B*': 'B'}">B</option>
			<option value="C" th:selected="${keySelected == 'C'}"
				th:text="${overridden && keySelected == 'C'? 'C' + suffix: (overridden && 'C' == ogKey)? 'C*': 'C'}">C</option>
			<option value="D" th:selected="${keySelected == 'D'}"
				th:text="${overridden && keySelected == 'D'? 'D' + suffix: (overridden && 'D' == ogKey)? 'D*': 'D'}">D</option>
			<option value="E" th:selected="${keySelected == 'E'}"
				th:text="${overridden && keySelected == 'E'? 'E' + suffix: (overridden && 'E' == ogKey)? 'E*': 'E'}">E</option>
			<option value="F" th:selected="${keySelected == 'F'}"
				th:text="${overridden && keySelected == 'F'? 'F' + suffix: (overridden && 'F' == ogKey)? 'F*': 'F'}">F</option>
			<option value="G" th:selected="${keySelected == 'G'}"
				th:text="${overridden && keySelected == 'G'? 'G' + suffix: (overridden && 'G' == ogKey)? 'G*': 'G'}">G</option>
			<option value="L" th:selected="${keySelected == 'L'}" data-toggle="tooltip" data-placement="bottom"
				title="Lyrics only">L</option>
		</th:block>
	</select>
</th:block>